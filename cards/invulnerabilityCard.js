function InvulnerabilityCard(x, y, game){
    this.x = x;
    this.y = y;
    this.image
    this.game = game
    this.size = 100
    this.identifier = Math.random();
    this.type = "invulnerabilityCard"
    this.used = false;
}


InvulnerabilityCard.prototype.getImage = function() {
    let image = new Image();
    image.src ="/img/cards/invulnerabilityCard (1).png"
    this.image = image;
}

InvulnerabilityCard.prototype.draw = function() {
    if(!this.used){
        this.game.backgroundCtx.drawImage(this.image, this.x, this.y, this.size, this.size);
        this.game.backgroundCtx.fill();
    }
}

InvulnerabilityCard.prototype.effect = function(player) {
    if(!this.used){
        console.log("unused");
        var invulnerableState = setInterval(()=>{
            player.isInInvincibilityFrames = true
        }, 500)
        setTimeout(()=>{
            player.isInInvincibilityFrames = false;
            clearInterval(invulnerableState)
        }, 8000)
        this.used = true
    } else {
        console.log("already used!");
    }
}

InvulnerabilityCard.prototype.deleteYourself = function() {
    if(this.used){
        this.game.cardInstances.forEach(card=>{
            if(card.identifier==this.identifier) {
                this.game.cardInstances.splice(this.game.cardInstances.indexOf(card), 1)
            }
        })
    }
}